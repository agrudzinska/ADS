select * from user_types;

ALTER TYPE person NOT FINAL cascade;

drop type employee;

CREATE TYPE employee UNDER person
(emp_ID INTEGER)
NOT FINAL
/

CREATE TYPE job AS OBJECT (
jobtitle VARCHAR2(20),
job_ID INT,
salary_amount INT,
years_experience INT
)
NOT FINAL
/

CREATE TABLE employee_table OF employee;
CREATE TABLE job_table OF job;

create table employment_table(
employee ref employee scope is employee_table,
position ref job scope is job_table);

INSERT INTO job_table
values
('Engineer', 1, 1000, 3);

desc employee;

INSERT INTO employee_table
values ('Ada', '1234', 1);

insert into employment_table
select ref(e), ref(j)
from job_table j, employee_table e
where e.emp_ID = 1
and j.job_ID = 1;

select * from EMPLOYMENT_TABLE;

select value(j)
from job_table j
where jobtitle = 'Engineer';

select * 
from job_table 
where jobtitle = 'Engineer';

select DEREF(p.employee)
from employment_table p;